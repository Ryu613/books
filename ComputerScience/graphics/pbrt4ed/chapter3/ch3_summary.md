# 第三章总结

## 齐次坐标及其变换

齐次坐标主要就是空间维度的基础上再加一个维度，主要是方便平移，透视等操作的矩阵表示和计算，多出来的维度用w来表示，可代表一个权重。一般来说，w=1时，代表这个齐次坐标表示一个点，w=0时，表示一个向量

我们可以定义一个坐标系统$(p_0,\vec{v}_1, \vec{v}_2, \vec{v}_3)$，p0为原点，向量v1,v2,v3就是坐标轴向量，对于这个坐标系任意一点，可表示为:

$$
[
\begin{matrix}
S_1 && S_2 && S_3 && 1
\end{matrix}
]
[
    \begin{matrix}
        \vec{v}_1 && \vec{v}_2 && \vec{v}_3 && p_o
    \end{matrix}
]^T
$$

对齐次坐标的点或向量做变换，就是对这个齐次坐标的基(坐标轴)做逆向变换，因此，我们可以利用这个特性完成坐标系的变换过程

齐次坐标可以当成一个列向量，当变换矩阵左乘这个四维向量，就是在对这个坐标做变换，变换矩阵的每一行，其实就对应了每一个基向量的箭头的头，移动到那个点上。所以本质上，即可看作变换矩阵对某个点或向量做了变换，也可看作对其基向量做了变换

pbrt里对应的类就是Transform，此类主要功能就是完成坐标系的转换，以便支持pbrt可在多种坐标系下渲染的功能

## interaction类

pbrt里用于表示交点与物体表面相交时的一堆数据和操作，方便物体与光线作用的逻辑进行解耦，同时也方便支持有介质参与计算的场景
