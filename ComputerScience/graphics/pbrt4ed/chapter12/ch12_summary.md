# 第12章总结

pbrt中的光源，是基于显示物理规律的半理想光源建模，有一些特殊场景是不支持的，比如控制光的衰减速率等。光照效果的模拟是采用一个或多个光源做无偏估计计算出来的。

pbrt的光源根据灯的外形和分布特征做了分类，灯的种类是用类区分的，这些灯都实现了Light接口，并且继承自LightBase类，灯按照光照分布规律又区分多种类型，详见原书

Light接口主要定义了几个必须实现的功能:

1. 用Phi()方法传入要采样的波长信息SampledWavelengths，返回这个光源每个采样波长对应的辐射量，用SampledSpectrum表示
2. 用SampleLi()方法对参考点接收到的光辐射进行采样，传入参考点相关的信息，封装在LightSampleContext中，传出这些参考点的辐射量和pdf等，封装在LightLiSample

其他接口只会在特定光源类型才会用到

本章提到，要对光线可能的入射方向采样，更好的方式是从光源照到物体的方向形成的锥体里来采样，具体怎么做，目前我尚不清楚，待之后更新

## 点光源

点光源是一个理想的，没有体积的，各个方向发光辐射量相同的光源。聚光灯也是点光源，但只在特定方向发光
