# 几何和矩阵转换

## 坐标系统

pbrt中，使用三维直角坐标系。某个点的坐标取决于所使用的坐标系统和位置，但是这个点的绝对位置是固定的。

对于n维场景，坐标系有原点$p_o$，n个线性独立的基向量定义的n维仿射空间。所有的向量$\vec v$可以被多个基向量的相加来表示。给定一个向量$\vec v$和其基向量$v_i$,有一组特定系数$s_i$，使:
$$
\vec v = s_1\vec v_1 + s_2\vec v_2 + ... + s_n\vec v_n
$$

相似的，对于所有点p，有一组特定系数$s_i$，公式如下:
$$
p=p_o + s_1\vec v_1 + s_2\vec v_2 + ... + s_n\vec v_n
$$
因此，虽然点和向量都是用x,y,z来表示的，但是它们不同的数学表达不同，不能被简单地互换。

所以，为了定义一个坐标系，我们需要原点和基向量，但是我们只能在这个坐标系里表示点和向量，在其他坐标系就不同了。因此我们定义一个标准坐标系,即原点(0,0,0),基向量x,y,z就是三个坐标轴,其他的坐标系会基于这个标准坐标系来定义，这种方式叫世界空间(world space)。

### 左/右手坐标系

作者在这里叙述了左右手坐标

> 简单来说，我们把x都指向右侧，y都指向上的时候，z轴朝远处就是左手坐标系，朝近处就是右手坐标系。

## n-元组基类

pbrt的类都是基于n-元组(tuple)的类来实现的。这些文件定义在/util/vecmath.h中。

这些类使用了很多高级C++编程技术，只需要知道做什么就可以了，不感兴趣的话不用关注实现。

> 后续文章主要介绍了Tuple2,和Tuple3,这里不详述

## 向量

pbrt基于2维和3维元组类提供了2维和3维向量类

> 后续文章介绍了vector类的用法和向量相关的计算基础，此处略

## 点

在pbrt里，有Point2和Point3类，来表示点。

> 后续段落讲了这些类的使用，略过

## 法线

> 法线的定义和在pbrt中的实现，略

## 射线

> Ray类和RayDifferential类(射线微分量)在pbrt的实现的介绍，略

## 包围盒

> 包围盒的理论和实现，略

## 球面几何学

< 球面几何介绍，和相关函数，略

## 矩阵转换

> 略

## 矩阵转换的应用

> 略

## 相交

> 略

## 延伸阅读