# 7 图元和求交加速

上一章着重说明了3d物体的几何相关的属性如何实现，本章将介绍材质相关的属性的实现方法。

对于材质属性的定义，在pbrt的CPU实现和GPU实现，是不同的。对于CPU方面，本章将介绍Primitive接口，用来支持多种属性的定义。然后会展示2种额外的Primitive实现，它可以用来充当很多图元的容器。我们会在其实现加速结构，降低相交测试的时间复杂度。

## 7.1 Primitive接口和几何图元

### 7.1.1 几何图元

### 7.1.2 物体实例化和动态图元

## 7.2 聚合

## 7.3 包围盒层次结构

### 7.3.1 BVH的构建

### 7.3.2 表面积启发法

### 7.3.3 线性包围盒层次结构

### 7.3.4 合并BVH用于遍历

### 7.3.5 包围和相交测试
