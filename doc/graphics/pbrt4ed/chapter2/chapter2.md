# 蒙特卡洛积分

通过随机的采样，使积分收敛于结果，不像其他积分方法，这种方法与积分的维度无关。

蒙特卡洛积分只需要任意点的积分结果$f(x)$,来估计整个积分的值$\int f(x)dx$
这种方式易于实现，而且通用性强，与维度无关。在第13章，我们会看到在RandomWalkIntegrator上实现的光线传播算法，可以在无限维度的积分下，估计积分的值。

随机性为算法的设计带来了变革，这种算法可以归于两类：拉斯维加斯算法和蒙特卡洛算法。拉斯维加斯算法是使用随机的方法，但是最终结果总是相同的，蒙特卡洛算法，会根据特定的随机数得到不同的结果，但是把这些结果平均以后，会得到正确的答案。

接下来的章节会讨论在pbrt中大量使用到的蒙特卡罗积分的基础理论，在附录A里，有额外的蒙特卡洛采样函数，这些不太常用。

## 蒙特卡洛积分的基础

本小节会回顾概率论和统计学，这是蒙特卡洛积分的基础。

### 概率论背景回顾

大写字母代表从随机样本里选取的结果，对于特殊随机变量，会用到一些希腊字母。

若样本的选取的概率都是相同的，则我们说是均匀的(uniform)。能求出离散随机变量概率的函数，如p(X),称为PMF(概率质量函数)。

若有两个随机变量是独立的，p(X, Y)的联合概率就是它们自己的概率相乘
$$
p(X, Y) = p(X)p(Y)
$$

对于互相关联的随机变量，其中一个的概率会影响另一个的概率，比如盒子里面的黑白球拿取的问题，如果拿两个球(假设第一个球不放回)，那么第一个球的拿出后会影响第二个球的概率。这种情况下
$$
p(X,Y)=p(X)p(Y|X)
$$
$p(Y|X)$指：在给定X的条件下，Y的概率
