# 10 纹理与材质

在前一章介绍的BRDF和BTDF侧重于描述物体表面如何散射光的一部分问题。虽然这些BSDF描述了物体表面特定的点如何散射，但是渲染器需要确定这个点是哪个BRDF和BTDF，还需确定它们的参数是什么。在本章中，我们描述了一个程序化的着色机制来针对此问题。

pbrt中有两种组件：纹理是用于描述空间上的一些量度或光谱在表面上的变化量；材质用于衡量表面某点上的纹理属性，用来确定关联的BSDF的参数。把纹理图案的生成的职责，通过材质类，从反射模型的实现中分离出来，让它们之间的随意组合更加简单。从而让创建各种外观变得更容易。

在pbrt中， texture是一种十分通俗的理念：它是一个函数，把在某种域(比如表面的(u,v)参数化空间，或者(x,y,z)物体空间)里的点，映射到其他的某个域(比如光谱，或实数域)。在系统中，有各种纹理类的实现。比如，pbrt有代表0维的函数的纹理类，此函数返回一个常数，用来代表某个处处都是同一个参数值的表面。图像映射纹理是一个二维函数，这些类使用一个二维数组表示的像素值，来计算特定点的纹理值(它们会在10.4详述)。甚至有基于其他纹理函数计算出来的值来计算机的纹理函数。

纹理在最终图像中，可能是一个高频变化的源，图10.1展示了一个由于纹理导致有严重走样的图片。然而走样的视觉影响可以用来自第八章的非均匀采样技术来减少，更好的解决方法是实现适配其被采样的频率的纹理函数。对于许多纹理函数，对一个频率内容计算一个合理的估计值，并且用此方法反走样并不困难，并且比起增加图像采样率来说，此方法在减少走样上，明显更有效率

## 10.1 纹理采样和反失真

## 10.2 纹理坐标生成

## 10.3 Texture接口和基本纹理

## 10.4 图像纹理

## 10.5 Material接口和实现