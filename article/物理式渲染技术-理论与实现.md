# ç‰©ç†å¼æ¸²æŸ“æŠ€æœ¯-ç†è®ºä¸å®ç°

- [ç‰©ç†å¼æ¸²æŸ“æŠ€æœ¯-ç†è®ºä¸å®ç°](#ç‰©ç†å¼æ¸²æŸ“æŠ€æœ¯-ç†è®ºä¸å®ç°)
  - [1 æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 é˜…è¯»é¡»çŸ¥](#11-é˜…è¯»é¡»çŸ¥)
    - [1.2 ä»€ä¹ˆæ˜¯æ¸²æŸ“ï¼Ÿ](#12-ä»€ä¹ˆæ˜¯æ¸²æŸ“)
    - [1.3 ä»€ä¹ˆæ˜¯ç‰©ç†å¼æ¸²æŸ“(åŸºäºç‰©ç†çš„æ¸²æŸ“)?](#13-ä»€ä¹ˆæ˜¯ç‰©ç†å¼æ¸²æŸ“åŸºäºç‰©ç†çš„æ¸²æŸ“)
    - [1.4 åŸºäºå“ªäº›ç‰©ç†å­¦ç†è®ºï¼Ÿ](#14-åŸºäºå“ªäº›ç‰©ç†å­¦ç†è®º)
    - [1.5 ä»€ä¹ˆæ˜¯å…‰çº¿è¿½è¸ª(ray tracing)](#15-ä»€ä¹ˆæ˜¯å…‰çº¿è¿½è¸ªray-tracing)
    - [1.6 å¦‚ä½•å®ç°å…‰çº¿è¿½è¸ªï¼Ÿ](#16-å¦‚ä½•å®ç°å…‰çº¿è¿½è¸ª)
  - [1.7 å…‰çº¿è¿½è¸ªç§ç±»(é¢„åˆ é™¤ï¼šé¿å…éé‡è¦å†…å®¹æ¦‚å¿µåˆ—ä¸¾)](#17-å…‰çº¿è¿½è¸ªç§ç±»é¢„åˆ é™¤é¿å…éé‡è¦å†…å®¹æ¦‚å¿µåˆ—ä¸¾)
  - [2 pbrçš„ç†è®ºä¸å®ç°](#2-pbrçš„ç†è®ºä¸å®ç°)
    - [2.1 ç°å®ä¸­çš„è§‚å¯Ÿè¿‡ç¨‹æŠ½è±¡](#21-ç°å®ä¸­çš„è§‚å¯Ÿè¿‡ç¨‹æŠ½è±¡)
    - [2.2 å…³é”®æ¦‚å¿µåŠè”ç³»](#22-å…³é”®æ¦‚å¿µåŠè”ç³»)
    - [2.3 ç³»ç»Ÿå®è§‚æµç¨‹](#23-ç³»ç»Ÿå®è§‚æµç¨‹)
    - [2.4 åæ ‡ç³»ç»Ÿ](#24-åæ ‡ç³»ç»Ÿ)
    - [2.5 æ¨¡å—](#25-æ¨¡å—)
      - [2.5.1 ç›¸æœº](#251-ç›¸æœº)
        - [2.5.1.1 é•œç‰‡](#2511-é•œç‰‡)
        - [2.5.1.2 èƒ¶ç‰‡](#2512-èƒ¶ç‰‡)
        - [2.5.1.3 æ„Ÿå…‰å™¨](#2513-æ„Ÿå…‰å™¨)
      - [2.5.2 ç‰©ä½“](#252-ç‰©ä½“)
        - [2.5.2.1 å½¢çŠ¶](#2521-å½¢çŠ¶)
        - [2.5.2.2 æè´¨](#2522-æè´¨)
        - [2.5.2.3 çº¹ç†](#2523-çº¹ç†)
        - [2.5.2.4 å›¾å…ƒ](#2524-å›¾å…ƒ)
      - [2.5.3 å…‰](#253-å…‰)
        - [2.5.3.1 BxDF](#2531-bxdf)
        - [2.5.3.2 å…‰æº](#2532-å…‰æº)
        - [2.5.3.3 ä»‹è´¨](#2533-ä»‹è´¨)
      - [2.5.4 é‡‡æ ·å™¨](#254-é‡‡æ ·å™¨)
      - [2.5.5 ç§¯åˆ†å™¨](#255-ç§¯åˆ†å™¨)
    - [2.6 å…¶ä»–åŠŸèƒ½](#26-å…¶ä»–åŠŸèƒ½)
      - [2.6.1 åœºæ™¯è¯»å–](#261-åœºæ™¯è¯»å–)
    - [2.7 è¿è¡Œæ•ˆæœ(v1)](#27-è¿è¡Œæ•ˆæœv1)
  - [3 å®æ—¶pbr](#3-å®æ—¶pbr)
  - [4 è¿›é˜¶çš„pbr](#4-è¿›é˜¶çš„pbr)
  - [é™„å½• Iï¼šç†è®ºç®€ä»‹](#é™„å½•-iç†è®ºç®€ä»‹)
  - [é™„å½• IIï¼šå‚è€ƒèµ„æ–™](#é™„å½•-iiå‚è€ƒèµ„æ–™)


## 1 æ¦‚è¿°

æœ¬æ–‡ä¼šä»‹ç»ç‰©ç†å¼æ¸²æŸ“æŠ€æœ¯(æˆ–ç§°åŸºäºç‰©ç†çš„æ¸²æŸ“æŠ€æœ¯)çš„åŸç†å’Œå®ç°ã€‚

æœ¬æ–‡é¢„æœŸè¯»è€…(è‹¥æœ‰ğŸ˜‚)ä¸ºå…·æœ‰è®¡ç®—æœºç¨‹åºå¼€å‘èƒ½åŠ›ï¼Œä¸”å¯¹è®¡ç®—æœºå›¾å½¢æ¸²æŸ“æ„Ÿå…´è¶£çš„äººã€‚

æœ¬æ–‡åé‡ä»‹ç»ç†è®ºå’ŒæŠ€æœ¯å®è·µï¼Œå°½é‡é€šä¿—æ˜“æ‡‚ï¼Œç›¸å…³ç†è®ºåœ¨æ­£æ–‡ä¸­ä¼šæœ‰ç®€å•ä»‹ç»ï¼Œæœ‰å¿…è¦å…·ä½“è¯´æ˜çš„åœ¨é™„å½•Iä¸­

æœ¬æ–‡ä¸å¯é¿å…åœ¨ä¸­åæœŸä¼šæ¶‰åŠè¯¸å¤šæ•°å­¦å…¬å¼å’Œç‰©ç†é‡ä»‹ç»ï¼Œç”±äºä»£ç éœ€è¦å®ç°è¿™äº›ç®—æ³•ï¼Œæƒ³è·³è¿‡å…¬å¼æ˜¯ä¸å¯èƒ½çš„ï¼Œä»£ç å®ç°éš¾åº¦ä¹Ÿé«˜ï¼Œä¸æ˜¯èƒ½å¤Ÿè½»æ¾å®Œæˆçš„ï¼Œè¯·å¸Œæœ›è½»æ¾ä½“éªŒçš„è¯»è€…å¯ä»¥å…ˆè€ƒè™‘ä»¥RayTracingInOneWeekç³»åˆ—æ¥å…¥é—¨

è¯»å®Œæœ¬æ–‡çš„è¯»è€…ï¼Œåº”è¯¥èƒ½äº†è§£ç‰©ç†å¼æ¸²æŸ“çš„åŸºç¡€ç†è®ºï¼Œå¹¶ä¸”å®ç°ç‰©ç†å¼æ¸²æŸ“ï¼Œæœ€ç»ˆç”Ÿæˆè¾ƒä¸ºé€¼çœŸçš„å›¾åƒ

æ–‡å­—å°½é‡ç®€å•æ˜“æ‡‚ã€‚æœŸæœ›èƒ½åœ¨æé«˜ä¿¡æ¯è´¨é‡çš„åŒæ—¶ï¼Œå¢åŠ ä¿¡æ¯å¯†åº¦ï¼Œå‡å°‘é˜…è¯»æ—¶é—´ï¼Œé™ä½ç†è§£éš¾åº¦ï¼Œæœ€ç»ˆæé«˜é˜…è¯»æ•ˆç‡å’Œæ•ˆæœ

æœ¬æ–‡é¢„æœŸæ˜¯é•¿æœŸå·¥ç¨‹ï¼Œç›®å‰å°šæœªå®Œæˆï¼Œä½†ä¼šå°½é‡ä¿è¯å†…å®¹è®©è¯»è€…æœ‰æ‰€æ”¶è·ï¼Œæˆ‘ä¼šåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œä¸æ–­ä¿®æ”¹å®Œå–„

### 1.1 é˜…è¯»é¡»çŸ¥

1. é˜…è¯»æœ¬æ–‡å‰ï¼Œè¯»è€…éœ€è¦äº†è§£è®¡ç®—æœºå›¾å½¢å­¦ï¼ŒC++ï¼Œæ•°å­¦(å¾®ç§¯åˆ†ï¼Œçº¿æ€§ä»£æ•°)ï¼Œè‹¥äº†è§£æ¦‚ç‡è®ºç»Ÿè®¡å­¦å’Œç‰©ç†å­¦æ›´ä½³
2. ç”±äºç‰©ç†å¼æ¸²æŸ“æ¶‰åŠçš„çŸ¥è¯†æ¨ªè·¨å¤šä¸ªå­¦ç§‘ï¼Œä¸ºé¿å…æ­§ä¹‰ï¼Œæœ¬æ–‡æ‰€æœ‰åè¯å’Œç›¸å…³è§£é‡Šï¼Œçš†ä»¥è®¡ç®—æœºå›¾å½¢å­¦ä¸ºè¯­å¢ƒã€‚
3. å†™ä½œä¸æ˜“ï¼Œç”±äºæœ¬äººæ°´å¹³æœ‰é™ï¼Œè‹¥æœ‰é”™è¯¯ï¼Œè¯·ç›´æ¥è”ç³»æˆ‘

### 1.2 ä»€ä¹ˆæ˜¯æ¸²æŸ“ï¼Ÿ

ç”¨è®¡ç®—æœºç¨‹åºæŠŠäºŒç»´æˆ–ä¸‰ç»´æ¨¡å‹çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå¹¶æœ€ç»ˆç”ŸæˆäºŒç»´å›¾åƒçš„è¿‡ç¨‹ã€‚

åŠ¨ç”»çš„æœ¬è´¨å°±æ˜¯è¶³å¤Ÿå¿«ä¸”è¿ç»­åœ°æ’­æ”¾è¿™äº›æ¸²æŸ“åçš„å›¾åƒï¼Œè®©äººçœ¼çœ‹ä¸Šå»åœ¨åŠ¨ã€‚

### 1.3 ä»€ä¹ˆæ˜¯ç‰©ç†å¼æ¸²æŸ“(åŸºäºç‰©ç†çš„æ¸²æŸ“)?

ç‰©ç†å¼æ¸²æŸ“(åŸºäºç‰©ç†çš„æ¸²æŸ“)(è‹±æ–‡ç¼©å†™ä¸ºpbr(Physically Based Rendering))ï¼Œä¸»è¦ç›®çš„æ˜¯åˆ©ç”¨ç‰©ç†å­¦ç†è®ºï¼Œä½¿æ¸²æŸ“å‡ºæ¥çš„å›¾ç‰‡è·Ÿç…§ç‰‡ä¸€æ ·çœŸå®ã€‚

è€ŒçœŸå®æ„Ÿçš„æ¥æºï¼Œæœ€ä¸»è¦çš„ä¸€éƒ¨åˆ†å°±æ˜¯æ¨¡æ‹Ÿç°å®ä¸­å…‰çš„ä¼ æ’­å’Œä¸ç‰©ä½“ä½œç”¨çš„è¿‡ç¨‹ã€‚

### 1.4 åŸºäºå“ªäº›ç‰©ç†å­¦ç†è®ºï¼Ÿ

ä¸¥æ ¼æ¥è®²ï¼Œpbrçš„å®ç°å…¶å®å¹¶ä¸å®Œå…¨éµå¾ªç‰©ç†å­¦ç†è®ºï¼Œè€Œæ˜¯æ ¹æ®äººçœ¼å¯¹å›¾åƒæœ‰é™çš„åˆ†è¾¨èƒ½åŠ›å’Œè®¡ç®—æœºçš„æœ‰é™çš„è®¡ç®—èƒ½åŠ›ï¼Œåœ¨è®¡ç®—æ–¹æ³•å’Œæ–¹å¼ä¸Šåšäº†å¾ˆå¤šæŠ˜è¡·ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥è¯´pbråœ¨ç†å¿µä¸Šæ˜¯åŸºäºç‰©ç†å­¦çš„

æœ¬æ–‡æ‰€æè¿°çš„pbråªæ˜¯å…¶ç†å¿µçš„ä¸€ç§å®ç°æ–¹å¼ï¼Œè¿™ç§pbrå®ç°ä¸»è¦æ¶‰åŠçš„ç‰©ç†ç†è®ºå¦‚ä¸‹:

- **å…‰å­¦**ï¼šå¯¹åº”å‡ ä½•å…‰å­¦çš„éƒ¨åˆ†ç†è®ºï¼Œpbrç”¨æ­¤ç†è®ºæè¿°å…‰çš„ä¼ æ’­å’Œäº¤äº’è¿‡ç¨‹ã€‚
  - åœ¨pbrä¸­ï¼Œå‡è®¾å…‰æ²¿ç›´çº¿ä¼ æ’­ï¼Œå¹¶ä¸”å¿½ç•¥å…‰çš„æ³¢åŠ¨æ€§ï¼Œåªè€ƒè™‘å…‰çš„ç²’å­æ€§ï¼Œä¸»è¦å…³æ³¨å…‰åœ¨çœŸç©ºæˆ–ä»‹è´¨ä¸­ä¼ æ’­ç°è±¡ï¼Œå’Œå…‰ä¸ä¸åŒç‰©ä½“ä¹‹é—´çš„ä½œç”¨ç°è±¡(æ¯”å¦‚æ•£å°„ï¼ŒæŠ˜å°„ï¼Œåå°„ç­‰)ã€‚åŒæ—¶ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä¸»è¦å…³æ³¨å…‰çš„å®è§‚å°ºåº¦ç°è±¡ï¼Œå¿½ç•¥å¾®è§‚å°ºåº¦ç°è±¡
- **è¾å°„åº¦é‡å­¦**: ç”±äºå…‰æ˜¯ç”µç£è¾å°„çš„ä¸€ç§å½¢å¼ï¼Œpbråˆ©ç”¨æ­¤å­¦ç§‘ç”¨äºè¡¡é‡è¾å°„èƒ½é‡åœ¨ä¼ æ’­å’Œä¸ç‰©ä½“çš„ä½œç”¨çš„è¿‡ç¨‹ä¸­ï¼Œèƒ½é‡çš„å˜åŒ–æƒ…å†µã€‚å¾—åˆ°çš„å„ç§ç‰©ç†é‡åç»­ä¼šè¢«ç”¨æ¥è®¡ç®—å¯¹åº”çš„é¢œè‰²ç‰¹å¾ç­‰æ•°æ®
- **è‰²åº¦å­¦**ï¼š ä»»ä½•è‰²å½©çš„æ˜¾ç¤ºï¼Œå®é™…ä¸Šéƒ½æ˜¯å…‰åˆºæ¿€äººç±»çš„è§†è§‰ç¥ç»è€Œäº§ç”Ÿçš„æ„Ÿè§‰ï¼Œè‰²åº¦å­¦ç ”ç©¶å…‰å¯¹åº”äººçœ¼çš„è‰²å½©çš„æ„ŸçŸ¥å…³ç³»ã€‚pbråˆ©ç”¨æ­¤å­¦ç§‘æ¥æŠŠè¾å°„èƒ½è½¬æ¢ä¸ºäººç±»è§‚å¯Ÿåˆ°çš„é¢œè‰²ç‰¹å¾
- **å…‰åº¦å­¦**ï¼š æ­¤å­¦ç§‘æè¿°å…‰çš„å„ç§ç‰©ç†ç‰¹å¾ã€‚pbråˆ©ç”¨æ­¤å­¦ç§‘æè¿°å…‰çš„å„ç§ç‰©ç†é‡

ä»¥ä¸Šè¿™äº›çŸ¥è¯†ä¹Ÿä¼šæ¶‰åŠåˆ°æ•°å­¦ä¸Šçš„å‡ ä½•ï¼Œçº¿æ€§ä»£æ•°ï¼Œå¾®ç§¯åˆ†ï¼Œå’Œæ¦‚ç‡è®ºç»Ÿè®¡å­¦çŸ¥è¯†ã€‚

æœ¬æ–‡è®¨è®ºçš„pbrå®ç°ä¸­ï¼Œå¯¹è¿™äº›ç‰©ç†ç›¸å…³ç†è®ºçš„åº”ç”¨ä¸æ·±ï¼Œè¯»è€…åªéœ€äº†è§£é«˜ä¸­ç‰©ç†çŸ¥è¯†ï¼ŒåŒæ—¶çœ‹å¾—æ‡‚å¾®ç§¯åˆ†å…¬å¼å³å¯ã€‚

å…³äºè®¡ç®—æœºçš„æˆåƒåŸç†ï¼Œå›¾å½¢çš„æè¿°ï¼Œæ˜¾ç¤ºç­‰ç›¸å…³çŸ¥è¯†è¯·å‚è€ƒå›¾å½¢å­¦ä¹¦ç±

### 1.5 ä»€ä¹ˆæ˜¯å…‰çº¿è¿½è¸ª(ray tracing)

**å…‰çº¿è¿½è¸ª**ï¼šç”¨ç‰©ç†æ–¹æ³•æ¨¡æ‹Ÿå…‰çº¿ä¼ æ’­å’Œä¸ä¸€ä¸ªæˆ–å¤šä¸ªç‰©ä½“ä½œç”¨çš„è¿‡ç¨‹çš„ä¸€ç§ç®—æ³•ã€‚åœ¨å…‰çº¿è¿½è¸ªçš„è¿‡ç¨‹ä¸­ä¼šè®¡ç®—å‡ºå…‰çš„å¤šä¸ªç›¸å…³çš„ç‰©ç†é‡ã€‚

å¯¹åº”çš„(è½¯ä»¶æˆ–ç¡¬ä»¶)æ¨¡å—å°±å«åšå…‰çº¿è¿½è¸ªå™¨(ray tracer)

pbrç›®å‰å‡ ä¹éƒ½æ˜¯åˆ©ç”¨å…‰çº¿è¿½è¸ªå™¨å®ç°çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…‰çº¿è¿½è¸ªæ˜¯pbrçš„ä¸€ç§æŠ€æœ¯å®ç°æ–¹æ³•ã€‚

### 1.6 å¦‚ä½•å®ç°å…‰çº¿è¿½è¸ªï¼Ÿ

ç°å®ä¸­æ‹æ‘„ç…§ç‰‡æˆ–è€…äººçœ¼çš„è§‚å¯Ÿï¼Œéƒ½æ˜¯ç›¸æœºæˆ–äººçœ¼å¯¹è§‚å¯Ÿçš„ç‰©ä½“çš„å…‰çš„ä¿¡æ¯è¿›è¡Œäº†æ•è·å’Œå¤„ç†ã€‚è¦æ¨¡æ‹ŸçœŸå®æƒ…å†µï¼Œå°±å¯ä»¥æ ¹æ®åœ¨ç°å®ä¸­è§‚å¯Ÿæˆ–æ‹æ‘„è¿‡ç¨‹æ¶‰åŠåˆ°çš„äº‹ç‰©å’Œå…¶è”ç³»è¿›è¡Œæ¦‚å¿µæŠ½è±¡ï¼Œåˆ©ç”¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹æ³•ï¼Œè½¬æ¢ä¸ºå„ç§ç±»

ç”±äºè®¡ç®—æœºæ€§èƒ½æœ‰é™ä¸”å­˜åœ¨è¯¯å·®ï¼Œéœ€è¦å¯¹å¤„ç†å’Œè®¡ç®—è¿‡ç¨‹åšå¤§é‡ç²¾ç®€å’Œä¼˜åŒ–ã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œæ¸²æŸ“çš„å›¾ç‰‡è¶ŠçœŸå®ï¼Œå°±éœ€è¦æ›´å¤šçš„è®¡ç®—å’Œå¤„ç†ï¼Œè®¡ç®—æœºçš„æ€§èƒ½æ¶ˆè€—å°±è¶Šå¤§ï¼Œæ¸²æŸ“æ‰€éœ€æ—¶é—´ä¹Ÿè¶Šé•¿ã€‚

> todo: å¯¹ç°å®ä¸­å…³é”®äº‹ç‰©æŠ½è±¡åŠå…¶è”ç³»è¿›è¡Œä»‹ç», å»ºæ¨¡ç”»å›¾

## 1.7 å…‰çº¿è¿½è¸ªç§ç±»(é¢„åˆ é™¤ï¼šé¿å…éé‡è¦å†…å®¹æ¦‚å¿µåˆ—ä¸¾)

(1.7 å…‰çº¿è¿½è¸ªå¸¸è¯†(ç‰©ç†è§„å¾‹å…‰è¿½åšæ³•ä»‹ç»))

> todo è¡¥å›¾ï¼Œéœ€è¿›ä¸€æ­¥å®Œå–„

ç›®å‰pbréƒ½æ˜¯å‡ ä¹éƒ½æ˜¯åŸºäºå…‰çº¿è¿½è¸ªç®—æ³•å®ç°çš„ï¼Œå…‰çº¿è¿½è¸ªç®—æ³•åˆ†ä¸ºå¤šç§ç±»å‹ï¼Œè¿™äº›ç±»å‹åè€…éƒ½ç»§æ‰¿å¹¶æ‰©å±•äº†å‰è€…ï¼Œå¹¶è§£å†³äº†å‰è€…é‡åˆ°çš„éƒ¨åˆ†é—®é¢˜(ä¹Ÿå¯èƒ½å¼•å…¥æ–°çš„é—®é¢˜)ï¼Œæ¯ç§å…‰è¿½æ–¹æ³•éƒ½æ˜¯ä»¥ç»å…¸æ–¹æ³•ä¸ºä¾‹,ä¸è€ƒè™‘ä¼˜åŒ–æ–¹æ³•ï¼Œå¦‚ä¸‹:

1. å…‰çº¿æŠ•å°„(Ray Casting):

    ä»ç›¸æœºå‘åœºæ™¯å‘å°„å¤šæ¡å…‰çº¿ï¼Œç»è¿‡å›¾åƒçš„æ¯ä¸ªåƒç´ ç‚¹åå°„å…¥åˆ°åœºæ™¯ä¸­ï¼Œæ£€æµ‹å…‰çº¿ä¸ç‰©ä½“çš„äº¤äº’ï¼Œä½†é€šå¸¸åªè€ƒè™‘è¡¨é¢çš„å¯è§æ€§ï¼Œæ¯”å¦‚ç”¨æ¥åšé®æŒ¡æ£€æµ‹ï¼Œä¸å¤„ç†åå°„ã€æŠ˜å°„æˆ–é˜´å½±ç­‰å¤æ‚æ•ˆæœ

    é—®é¢˜ï¼šæ¸²æŸ“æ•ˆæœåªèƒ½å¾—åˆ°ç‰©ä½“çš„å½¢çŠ¶å’Œç‰©ä½“è¡¨é¢é¢œè‰²ï¼Œæ²¡æœ‰é—´æ¥å…‰ç…§çš„æ•ˆæœã€‚

    > ä¹‹æ‰€ä»¥è¦å‡è®¾å…‰çº¿ä»äººçœ¼è€Œä¸æ˜¯æ›´ç›´è§‚çš„å…‰æºå‡ºå‘ï¼Œä¸»è¦æ˜¯ä¸ºäº†é¿å…è®¡ç®—ä¸ä¼šè½å…¥ç›¸æœºä¸­çš„å…‰ï¼Œå¤§å¤§é™ä½è®¡ç®—é‡ï¼Œä»¥é™ä½æ¸²æŸ“æ—¶é—´ï¼Œä½†æ˜¯ä¹Ÿä¼šå¯¼è‡´æœ‰äº›é—´æ¥å…‰æ•ˆæœæ¨¡æ‹Ÿæ•ˆæœä¸å¥½
2. whittedé£æ ¼çš„å…‰çº¿è¿½è¸ª:

   åœ¨å…‰çº¿æŠ•å°„çš„åŸºç¡€ä¸Šï¼Œè€ƒè™‘åå°„ï¼ŒæŠ˜å°„ï¼Œé˜´å½±ç­‰æ•ˆæœï¼Œç”±äºæ¼«åå°„æè´¨ä¸æ˜¯ç›´æ¥åå°„æˆ–æŠ˜å°„ï¼Œæ¼«åå°„ä¹‹é—´çš„å…‰æ¨¡æ‹Ÿæ•ˆæœä¸ä½³

   é—®é¢˜ï¼š æ¼«åå°„ç‰©ä½“ä¹‹é—´çš„å…‰çš„ä¼ æ’­æ•ˆæœä¸çœŸå®

3. åˆ†å¸ƒå¼å…‰çº¿è¿½è¸ª(éšæœºå…‰çº¿è¿½è¸ª)

    åœ¨whittedæ–¹æ³•åŸºç¡€ä¸Šï¼Œè‹¥å…‰çº¿ç¢°åˆ°ç‰©ä½“å‘ç”Ÿåå°„æˆ–æŠ˜å°„ç­‰ç°è±¡æ—¶ï¼Œé€šè¿‡å„ç§é‡‡æ ·æ³•ç”Ÿæˆå¤šæ¡å…‰çº¿ï¼ŒåŠ ä¸Šå„ç§é‡‡æ ·å’Œæ•ˆæœå¤„ç†åï¼Œæ•ˆæœæ›´çœŸå®

    é—®é¢˜ï¼šç”±äºå…‰çº¿ç¢°åˆ°ç‰©ä½“æ—¶ç”Ÿæˆæ–°çš„å…‰çº¿ï¼Œå…‰çº¿æ•°é‡å‘ˆæŒ‡æ•°çº§ä¸Šå‡ï¼Œè®¡ç®—æ•ˆç‡æä½ï¼Œæ¸²æŸ“å¤ªæ…¢ï¼Œå¹¶ä¸”æŸäº›å…‰ç…§æ•ˆæœè¿˜æ˜¯æ²¡æ³•æ¨¡æ‹Ÿ
4. è·¯å¾„è¿½è¸ª

   åˆ†å¸ƒå¼å…‰è¿½çš„ä¼˜åŒ–ç‰ˆï¼Œç”¨è’™ç‰¹å¡ç½—æ–¹æ³•ï¼Œè§£å†³äº†whittedå…‰è¿½å¯¹äºæ¼«åå°„æè´¨æ¨¡æ‹Ÿçš„ä¸è¶³å’Œè®¡ç®—é‡è¿‡å¤§çš„é—®é¢˜

   é—®é¢˜ï¼šå™ªç‚¹ï¼Œé‡‡æ ·å¤šæ¸²æŸ“æ•ˆæœå¥½ï¼Œä½†æ˜¯æ¸²æŸ“é€Ÿåº¦ä¹Ÿä¼šå˜æ…¢
5. åŒå‘è·¯å¾„è¿½è¸ª

    åœ¨è·¯å¾„è¿½è¸ªçš„åŸºç¡€ä¸Šï¼ŒåŒæ—¶ä»å…‰æºå’Œç›¸æœºæ‰“å‡ºå…‰çº¿ï¼Œè‹¥å¹²æ¬¡ä¸ç‰©ä½“ç¢°æ’åæŠŠè·¯å¾„è¿æ¥èµ·æ¥ï¼Œé‡‡ç”¨å¤šé‡é‡è¦æ€§é‡‡æ ·ï¼Œé™ä½å›¾åƒå™ªç‚¹

    é—®é¢˜ï¼šæŸäº›æ•ˆæœ(å¦‚ç„¦æ•£æ•ˆåº”)æ— æ³•æ¨¡æ‹Ÿï¼Œè®¡ç®—é‡å¤§
6. æ¢…ç‰¹æ³¢åˆ©æ–¯å…‰ç…§ä¼ è¾“(MLT)

    åŸºäºé©¬å°”ç§‘å¤«é“¾ï¼Œå¯¹å…‰çº¿ä¸­è´¡çŒ®å¤§çš„è·¯å¾„è¿›è¡Œé‡‡æ ·ã€‚è§£å†³éš¾ä»¥è®¡ç®—çš„ç‰¹æ®Šåœºæ™¯å’Œå¤æ‚å…‰ç…§æ¡ä»¶çš„é—®é¢˜ã€‚

    é—®é¢˜: éœ€è¦è®¾è®¡å¤šç§è½¬ç§»ç­–ç•¥æ»¡è¶³é‡‡æ ·è¦æ±‚
7. èƒ½é‡åˆ†å¸ƒè·¯å¾„è¿½è¸ª(EPRT)

    åŸºäºèƒ½é‡åˆ†å¸ƒè¿›è¡Œé‡‡æ ·,å…ˆåƒæ ‡å‡†çš„è·¯å¾„è¿½è¸ªç®—æ³•ä¸€æ ·ï¼Œä½¿ç”¨è’™ç‰¹å¡ç½—çš„æ–¹æ³•è®¡ç®—åƒç´ çš„é¢œè‰²å€¼ï¼Œç„¶åä»¥ä¸€å®šçš„æ¦‚ç‡å°†èƒ½é‡ï¼ˆå³æŸä¸ªåƒç´ çš„é¢œè‰²ï¼‰å‘å‘¨å›´æµåŠ¨
8. Manifold Exploration

    åˆ©ç”¨åœºæ™¯çš„å…‰ç…§ç‰¹æ€§ï¼Œå°†é‡‡æ ·é›†ä¸­åœ¨æ›´æœ‰å¯èƒ½è´¡çŒ®å…‰ç…§çš„åŒºåŸŸ,æé«˜å…‰çº¿è¿½è¸ªä¸­çš„é‡‡æ ·æ•ˆç‡

## 2 pbrçš„ç†è®ºä¸å®ç°

æœ¬æ–‡v1ç‰ˆpbræ˜¯åŸºäºè’™ç‰¹å¡æ´›æ–¹æ³•çš„è·¯å¾„è¿½è¸ªï¼Œä»¥C++17é¢å‘å¯¹è±¡çš„æ–¹å¼å®ç°ï¼Œä¸»è¦ç”¨äºç¦»çº¿æ¸²æŸ“

ä»£ç é‡‡ç”¨é€’è¿›å¼è¿­ä»£æ–¹æ³•ï¼Œä¼šä»ç®€å•ä»£ç å¼€å§‹ï¼Œé€æ­¥è¿­ä»£åˆ°æ›´å¤æ‚çš„ä»£ç ã€‚åŒæ—¶ï¼Œå‰æ–‡çš„æè¿°ï¼Œä¼šè¢«åæ–‡æ‰€æ‰©å±•

åæœŸå°†é€æ­¥æ›´æ–°å…¶ä»–å…‰çº¿è¿½è¸ªç®—æ³•å®ç°å’Œå®æ—¶pbrç›¸å…³å†…å®¹

### 2.1 ç°å®ä¸­çš„è§‚å¯Ÿè¿‡ç¨‹æŠ½è±¡

### 2.2 å…³é”®æ¦‚å¿µåŠè”ç³»

> todo å„ä¸ªç±»å’Œå…³ç³»

### 2.3 ç³»ç»Ÿå®è§‚æµç¨‹

> todo: æè¿°ç³»ç»Ÿå®è§‚æµç¨‹

### 2.4 åæ ‡ç³»ç»Ÿ

> todo: ä»‹ç»åœºæ™¯ï¼Œåæ ‡ï¼Œç©ºé—´ï¼Œå˜æ¢

### 2.5 æ¨¡å—

> todo: æ¶‰åŠçš„ç‰©ç†åŸç†å’Œè®¡ç®—ï¼Œç±»å®šä¹‰ï¼Œå…³é”®å‡½æ•°ï¼Œå¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼Œä¼˜åŒ–æ–¹æ¡ˆ

#### 2.5.1 ç›¸æœº

##### 2.5.1.1 é•œç‰‡

##### 2.5.1.2 èƒ¶ç‰‡

##### 2.5.1.3 æ„Ÿå…‰å™¨

#### 2.5.2 ç‰©ä½“

##### 2.5.2.1 å½¢çŠ¶

##### 2.5.2.2 æè´¨

##### 2.5.2.3 çº¹ç†

##### 2.5.2.4 å›¾å…ƒ

#### 2.5.3 å…‰

##### 2.5.3.1 BxDF

##### 2.5.3.2 å…‰æº

##### 2.5.3.3 ä»‹è´¨

#### 2.5.4 é‡‡æ ·å™¨

#### 2.5.5 ç§¯åˆ†å™¨

### 2.6 å…¶ä»–åŠŸèƒ½

#### 2.6.1 åœºæ™¯è¯»å–

### 2.7 è¿è¡Œæ•ˆæœ(v1)

> æ¸²æŸ“åæ•ˆæœå›¾

## 3 å®æ—¶pbr

> todo: æœªæ¥å¯æœŸ

## 4 è¿›é˜¶çš„pbr

> todo: æœªæ¥å¯æœŸ

## é™„å½• Iï¼šç†è®ºç®€ä»‹

## é™„å½• IIï¼šå‚è€ƒèµ„æ–™

1. [Physically Based Rendering From Theory To Implementation 4ed](https://www.pbr-book.org/4ed/contents)
2. [erobert: ray-tracing](https://cs.stanford.edu/people/eroberts/courses/soco/projects/1997-98/ray-tracing/index.html)
3. [papalqiï¼šå…‰çº¿è¿½è¸ªä»‹ç»](https://zhuanlan.zhihu.com/p/72673165)
4. [Wentao.Wang: pbr rendering](https://segmentfault.com/a/1190000000526976)
